<html>
    <head>
        <script type="module">
         import {
             HTMLDocumentBodyMorph,
             HTMLElementMorph,
             HTML2DCanvasMorph,
             CanvasShapeMorph,
             Position,
             Rectangle,
             Circle,
             FillStyle,
             StrokeStyle,
         } from '/morphic.mjs';

         const ClickObserver = {
             you: false,
             update(morph) {
                 this.you = !this.you;
                 morph.children[0].value = this.you ? "Hey You!" : "Hey!";
                 morph.attributes.update('href', this.you ? '#hey-you' : '#hey')
                 body.children[1].children[0].children[0].value = new Date().toString()
             }
         }

         const body = new HTMLDocumentBodyMorph()
         body.createElement('a', { href: '#' })
             .withText("Hey!")
             .observeEvent('click', ClickObserver);

         const canvas = body.createElement('div')
                            .addChild(HTML2DCanvasMorph, { width: 500, height: 500 });

         const rect = canvas.addChild(
            CanvasShapeMorph,
            new Rectangle(new Position(0, 0), 50, 50),
            new FillStyle('green')
         );

         const circle = canvas.addChild(
             CanvasShapeMorph,
             new Circle(new Position(25, 80), 25),
             new StrokeStyle('red', 15),
         );

         const RectangleControl = {
             update(morph) {
                 rect.style = new StrokeStyle('blue', 20);
             }
         };

         body.createElement('button', { type: 'button' })
             .withText('Rectangle')
             .observeEvent('click', RectangleControl);

         body.draw();
        </script>
    </head>
</html>
